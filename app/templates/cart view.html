{% extends 'base.html' %}

{% block content %}
  <div class="container mt-4">
    <h3 class="mb-4">Your Shopping Cart</h3>
    <p class="text-muted">Manage your cart below.</p>

    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Product name</th>
          <th>Quantity</th>
          <th>Subtotal</th>
        </tr>
      </thead>
      <tbody>
        {% for items in cart_items %}
          <tr>
            <td>{{ items.product.name }}</td>
            <td>{{ items.quantity }}</td>
            <td>${{ "%.2f" | format(items.product.price * items.quantity) }}</td>
            <td>
              <form action="{{ url_for('delete_cart_item', id=items.product.id) }}" method="POST" 
                    onsubmit="return confirm('Are you sure you want to remove this item from your cart?');">
                <button type="submit" class="btn btn-danger btn-sm">Remove from Cart</button>
              </form>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}